var modlazy=function(){"use strict";var e={};return{load:function(t,n){var r=function(e){return function(){for(var r=0,a=t.length;r<a;r++)t[r]===e&&t.splice(r>0?r--:r,1);t.length||n()}},a=function(e){var t={};return t.ext=o(e),!!t.ext&&(t.path=e.split(/\#|\?/)[0],t)},o=function(e){var t=e.split(/\#|\?/)[0].split(".").pop();return/^\w+$/.test(t)?t:(i("File extension is not specified ( "+e+" )"),!1)},s=function(e){switch(e.ext){case"css":var t=document.createElement("link");return t.href=e.path,t.rel="stylesheet",t;case"js":var t=document.createElement("script");return t.src=e.path,t.type="text/javascript",t;case"less":var t=document.createElement("style");return t.id="lazyStyle",t;default:return i("Unsupported extension ( "+ext+" )"),!1}},i=function(e){console.log("~ Lazy Error: "+e)},l=function(){if(window.XMLHttpRequest)var e=new XMLHttpRequest;else if(window.ActiveXObject)var e=new ActiveXObject("Microsoft.XMLHTTP");return null===e&&i("Your browser does not support XMLHTTP"),e},c=function(t,n){if("undefined"==typeof e[t]){var r=a(t);r&&d(r,n)}},d=function(t,n){if(e[t.path]=1,"less"===t.ext)u(t,n);else{var r=s(t),a=!1,o=document.getElementsByTagName("head")[0];if(o.appendChild(r),"css"===t.ext){var i=document.createElement("img");i.onerror=function(){"undefined"!=typeof n&&n()},i.src="#"}else r.onload=r.onreadystatechange=function(){a||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(a=!0,r.onload=r.onreadystatechange=null,o&&r.parentNode&&o.removeChild(r),"undefined"!=typeof n&&n())}}},u=function(t,n){if("undefined"!=typeof less){e[t.path]=1;var r=l();r.onreadystatechange=function(){if(4===r.readyState){var e=new less.Parser;e.parse(r.responseText,function(e,n){var r=n.toCSS();if(!document.getElementById("lazyStyle")){var a=s(t);document.getElementsByTagName("head")[0].appendChild(a)}document.getElementById("lazyStyle").innerHTML=document.getElementById("lazyStyle").innerHTML+r}),"undefined"!=typeof n&&n()}},r.open("GET",t.path,!0),r.send(null)}else i("Can't load .less file, less.js is missing")};t=t instanceof Array?t:[t];for(var f=0,p=t.length;f<p;f++){var y=t[f].replace(/\s+/g,"");y.lastIndexOf("<")>2?!function(){var e=t[f],n=y.split("<");return function t(){n.length?c(n.pop(),t):r(e)()}()}():c(y,r(t[f]))}}}}();
