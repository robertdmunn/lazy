/*! Lazy.JS - v1.0.0 - 2014-07-01
 * Lightweight lazy loader for JS, CSS & LESS assets.
 * http://orenyakobi.github.io/lazy
 *
 * Copyright (c) 2014 Oren yakobi <orenykb@gmail.com>;
 * Licensed under the MIT license */
var modlazy=(function(){var a={};return{load:function(b,e){var p=function(i){return function(){for(var r=0,q=b.length;r<q;r++){if(b[r]===i){b.splice(r>0?r--:r,1)}}if(!b.length){e()}}};var j=function(i){var q={};q.ext=d(i);if(q.ext){q.path=i.split(/\#|\?/)[0];return q}else{return false}};var d=function(i){var q=i.split(/\#|\?/)[0].split(".").pop();if(!/^\w+$/.test(q)){f("File extension is not specified ( "+i+" )");return false}else{return q}};var n=function(i){switch(i.ext){case"css":var q=document.createElement("link");q.href=i.path;q.rel="stylesheet";return q;case"js":var q=document.createElement("script");q.src=i.path;q.type="text/javascript";return q;case"less":var q=document.createElement("style");q.id="lazyStyle";return q;default:f("Unsupported extension ( "+ext+" )");return false}};var f=function(i){console.log("~ Lazy Error: "+i)};var c=function(){if(window.XMLHttpRequest){var i=new XMLHttpRequest()}else{if(window.ActiveXObject){var i=new ActiveXObject("Microsoft.XMLHTTP")}}if(i===null){f("Your browser does not support XMLHTTP")}return i};var m=function(i,r){if(typeof a[i]==="undefined"){var q=j(i);if(q){h(q,r)}}};var h=function(s,t){a[s.path]=1;if(s.ext==="less"){o(s,t)}else{var u=n(s),i=false,r=document.getElementsByTagName("head")[0];r.appendChild(u);if(s.ext==="css"){var q=document.createElement("img");q.onerror=function(){if(typeof t!=="undefined"){t()}};q.src=s.path}else{u.onload=u.onreadystatechange=function(){if(!i&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){i=true;u.onload=u.onreadystatechange=null;if(r&&u.parentNode){r.removeChild(u)}if(typeof t!=="undefined"){t()}}}}}};var o=function(q,r){if(typeof less!=="undefined"){a[q.path]=1;var i=c();i.onreadystatechange=function(){if(i.readyState===4){var s=new less.Parser();s.parse(i.responseText,function(v,t){var u=t.toCSS();if(!document.getElementById("lazyStyle")){var w=n(q);document.getElementsByTagName("head")[0].appendChild(w)}document.getElementById("lazyStyle").innerHTML=document.getElementById("lazyStyle").innerHTML+u});if(typeof r!=="undefined"){r()}}};i.open("GET",q.path,true);i.send(null)}else{f("Can't load .less file, less.js is missing")}};b=b instanceof Array?b:[b];for(var k=0,l=b.length;k<l;k++){var g=b[k].replace(/\s+/g,"");if(g.lastIndexOf("<")>2){(function(){var i=b[k];var q=g.split("<");return(function r(){if(q.length){m(q.pop(),r)}else{p(i)()}})()})()}else{m(g,p(b[k]))}}}}})();